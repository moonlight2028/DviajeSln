@model IEnumerable<Dviaje.Models.VM.ResenaDisponibleTarjetaVM>

@{
    ViewData["Title"] = "Reseñas Disponibles";
}

@section Styles {

    <!-- Estilos custom -->
    <link rel="stylesheet" href="~/css/page/site.css">
}


<div class="container mt-5">
    <h2 class="text-center mb-4">Reservas Disponibles para Reseñar</h2>

    @if (!Model.Any())
    {
        <div class="alert alert-info text-center" role="alert">
            No tienes reservas disponibles para reseñar.
        </div>
    }
    else
    {
        <div class="grid-container">
            @foreach (var item in Model)
            {
                <div class="card">
                    <div class="status">Disponible para reseñar</div>

                    <div class="card-content">
                        <img src="@item.ImagenUrl" class="img-fluid mb-3" alt="@item.TituloPublicacion" style="width: 100%; height: auto; border-radius: 10px;" />
                        <h5 class="card-title">@item.TituloPublicacion</h5>
                        <p>
                            <strong>Fecha de Inicio:</strong> @item.FechaInicio.ToString("dd/MM/yyyy")<br />
                            <strong>Fecha Fin:</strong> @item.FechaFin.ToString("dd/MM/yyyy")
                        </p>
                    </div>

                    <div class="card-footer">
                        <a href="@Url.Action("Crear", "Reseña", new { reservaId = item.IdReserva })" class="card-link">Reseñar</a>
                    </div>
                </div>
            }
        </div>

        @* Paginación *@
        <div class="pagination">
            @if (ViewBag.PaginaActual > 1)
            {
                <a href="@Url.Action("Disponibles", new { paginaActual = ViewBag.PaginaActual - 1 })">&laquo; Anterior</a>
            }

            @for (int i = 1; i <= ViewBag.TotalPaginas; i++)
            {
                <a href="@Url.Action("Disponibles", new { paginaActual = i })" class="@(i == ViewBag.PaginaActual ? "active" : "")">@i</a>
            }

            @if (ViewBag.PaginaActual < ViewBag.TotalPaginas)
            {
                <a href="@Url.Action("Disponibles", new { paginaActual = ViewBag.PaginaActual + 1 })">Siguiente &raquo;</a>
            }
        </div>
    }
</div>
